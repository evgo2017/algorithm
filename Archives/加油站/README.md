# 加油站

[TOC]

## 题目

一辆汽车加满油后可行驶 n 公里。

旅途中有若干个加油站。

设计一个有效算法，指出应在哪些加油站停靠加油，使沿途加油次数最少。

对于给定的 n 和 k 个加油站位置，计算最少加油次数。

### 输入

输入数据的第一行有 2 个正整数 n 和 k（n≤4000， k≤1000），表示汽车加满油后可行驶 n 公里，且旅途中有 k 个加油站。

接下来的 1 行中，有 k+1 个整数，表示第 k 个加油站与第 k-1 个加油站之间的距离。

第 0 个加油站表示示出发地，汽车已加满油。第 k+1 个加油站表示目的地。

### 输出

将计算出的最少加油次数输出。如果无法到达目的地， 则输出” No Solution!” 。

## 分析

###　输入

有三部分值，n 为车辆最大加油量（出发时油量为满），ｋ 为出发地和目的地之间的加油站数量，设一个一维数组 data[k+1]，其中存放：出发地和第一个加油站，各加油站之间，最后一个加油站和目的地的距离。

假设输入数据为：

```
5 3
3 6 4 3
```

则 data 数组含义如图：

```
距离：	  3			      6				   4				 3
出发地-------第一个加油站-------第二个加油站-------第三个加油站-------目的地
```



### 还未开始就结束

可以看出，如果data数组内某一值>n值，就可以直接输出” No Solution!”了，因为这两地之间的距离比加满油能行驶的距离都远。

```c++
for(int i=0; i<k+1; i++) {
	fin>>data[i];
	if(data[i]>n) {
		cout<<"No Solution!"<<endl; //如果某一站路之间的距离比加满油还远，自然无法到达
		return 0;
    }
}
```



### 关键点

输入以下数据继续分析：

```
5 3
3 1 4 3
```

采用贪心算法，假设每次出发时，先判断此时油量能否顺利抵达下一地点，如果可以，就不用加油，否则加油并且加油次数+1。

```c++
int num = 0; //加油次数
for(int i=0; i<k+1; i++) {
	if(n>data[i]) {  //如果油量比此段距离大，就直接减去
		n -= data[i];
	} else { //如果油量不比此段距离大，则加满油，再减去此段距离，加油次数+1
		n = 5 - data[i];
		num++;
	}
}
```

列表表示，其中油量为”到达此地时的油量“，加油次为”从此地出发时的加油次数“：

| 地点   | 出发地  | 第一个加油站 | 第二个加油站 | 第三加油站 | 目的地  |
| ---- | ---- | ------ | ------ | ----- | ---- |
| 油量   | 5    | 2      | 1      | 1     | 2    |
| 加油次  | 0    | 0      | 1      | 2     | 2    |



## 代码

注：main.cpp文件仅包含运行代码，如需每一步代码的详细解释，请查看main_note.cpp文件。

```c++
/*
 * @Author: evgo 
 * @Date: 2018-06-10 21:32:29 
 * @Last Modified by: evgo
 * @Last Modified time: 2018-06-10 22:41:31
 * @Email: evgo2017@qq.com 
 * @Github: evgo2017 
 * @Blog: http://evgo2017.com
 */

/* 加油站 */

#include <iostream>
#include <fstream>
using namespace std;

//采用贪心算法
int main(){
    ifstream fin("input.txt");
    int n,k，num = 0; 
    fin>>n; 
    fin>>k; 

    int data[k+1] = {0};
    for(int i=0; i<k+1; i++) {
        fin>>data[i];
        if(data[i]>n) {
            cout<<"No Solution!"<<endl; 
            return 0;
        }
    }
    
    for(int i=0; i<k+1; i++) {
        if(n>data[i]) {  
            n -= data[i];
        } else { 
            n = 5 - data[i];
            num++;
        }
    }
    
    cout<<num<<endl;
    return 0;
}
```


